{"version":3,"sources":["components/MovieItem.js","components/MovieTabs.js","components/MoviePages.js","components/App.js","utils/api.js","index.js"],"names":["MovieItem","state","willWtch","this","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","width","height","alt","title","vote_average","willWatch","type","onClick","setState","bind","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","setActiveTab","classNames","active","MoviePages","page","total_pages","updatePage","setDisabledLink","k","v","disabled","aria-label","App","getMovies","fetch","then","response","json","data","movies","results","updateMovies","filter","item","id","updateMoviesWillWatch","movieWillWatch","localStorage","setItem","JSON","stringify","parse","getItem","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cef35b5c.chunk.js","sourcesContent":["import React from \"react\";\nimport Image from \"react-graceful-image\";\n\n\nclass MovieItem extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            willWtch: false\n        };\n    }\n\n    render() {\n        const { movie, removeMovie, addMovieToWillWatch, removeMovieFromWillWatch } = this.props;\n\n        return (\n            <div className=\"card\">\n                <Image\n                    className=\"card-img-top\"\n                    src={movie.backdrop_path ? `https://image.tmdb.org/t/p/w500${movie.backdrop_path}` : \"placeholder.svg\"}\n                    width=\"395\"\n                    height=\"222\"\n                    alt={movie.title}\n                />\n                <div className=\"card-body\">\n                    <h6 className=\"card-title\">{movie.title}</h6>\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                        <p className=\"mb-0\">Rating: {movie.vote_average}</p>\n                        {this.state.willWatch ? (\n                            <button\n                                type=\"button\"\n                                className=\"btn btn-success\"\n                                onClick={() => {\n                                    this.setState({\n                                        willWatch: false\n                                    });\n                                    removeMovieFromWillWatch(movie)\n                                }}\n                            >\n                                Remove Will Watch\n                            </button>\n                        ) : (\n                                <button\n                                    type=\"button\"\n                                    className=\"btn btn-secondary\"\n                                    onClick={() => {\n                                        this.setState({\n                                            willWatch: true\n                                        });\n                                        addMovieToWillWatch(movie)\n                                    }}\n                                >\n                                    Add Will Watch\n                                </button>\n                            )}\n                        <button\n                            type=\"button\"\n                            className=\"btn btn-secondary\"\n                            onClick={removeMovie.bind(null, movie)}>\n                            Delete\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default MovieItem;","import React, { Component } from \"react\";\nimport classNames from \"classnames\";\n\nclass MovieTabs extends Component {\n  shouldComponentUpdate(nextProps, nextState) {\n    // console.log(\"shouldComponentUpdate\");\n    if (nextProps.sort_by !== this.props.sort_by) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n    const { sort_by, updateSortBy } = this.props;\n\n    const handleClick = value => {\n      return () => {\n        updateSortBy(value);\n      };\n    };\n\n    const setActiveTab = value => {\n      return classNames('nav-link', { active: value === sort_by });\n    };\n\n    return (\n      <ul className=\"nav nav-tabs nav-fill\">\n        <li className=\"nav-item\">\n          <div\n            className={setActiveTab(\"popularity.desc\")}\n            onClick={handleClick(\"popularity.desc\")}\n          >\n            Popularity Desc\n          </div>\n        </li>\n        <li className=\"nav-item\">\n          <div\n            className={setActiveTab(\"revenue.desc\")}\n            onClick={handleClick(\"revenue.desc\")}\n          >\n            Revenue Desc\n          </div>\n        </li>\n        <li className=\"nav-item\">\n          <div\n            className={setActiveTab(\"vote_average.desc\")}\n            onClick={handleClick(\"vote_average.desc\")}\n          >\n            Vote Average Desc\n          </div>\n        </li>\n      </ul>\n    );\n  }\n}\n\nexport default MovieTabs;\n","import React, { Component } from \"react\";\nimport classNames from \"classnames\";\n\nclass MoviePages extends Component {\n    render() {\n        const { page, total_pages, updatePage } = this.props;\n\n        const setDisabledLink = (k, v) => {\n            return classNames('page-item', { disabled: k === v });\n        };\n\n        const handleClick = value => {\n            return () => {\n                updatePage(value);\n            };\n        };\n\n        return (\n            <nav aria-label=\"Page navigation\">\n                <ul className=\"pagination justify-content-center\">\n                    <li className={setDisabledLink(page, 1)} onClick={handleClick(1)}>\n                        <div className=\"page-link\">\n                            First\n                        </div>\n                    </li>\n                    <li className={setDisabledLink(page, 1)} onClick={handleClick(page - 1)}>\n                        <div className=\"page-link\">Previous</div>\n                    </li>\n                    <li className='page-item'>\n                        <div className=\"page-link no-hover\">Page {page} of {total_pages}</div>\n                    </li>\n                    <li className={setDisabledLink(page, total_pages)} onClick={handleClick(page + 1)}>\n                        <div className=\"page-link\">Next</div>\n                    </li>\n                    <li className={setDisabledLink(page, total_pages)} onClick={handleClick(total_pages)}>\n                        <div className=\"page-link\">Last</div>\n                    </li>\n                </ul>\n            </nav>\n        )\n    }\n}\n\nexport default MoviePages;","import React from \"react\";\n// import { moviesData } from '../moviesData';\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport MoviePages from './MoviePages'\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\n\n// UI = fn(state, props)\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      movieWillWatch: [],\n      sort_by: \"popularity.desc\",\n      page: 1,\n      total_pages: 1\n    };\n    // console.log(\"constructor\");\n  }\n\n  componentDidMount() {\n    // console.log(\"didMount\");\n    const updateMoviesWillWatch = JSON.parse(localStorage.getItem('movieWillWatch')) || [];\n\n    this.getMovies();\n\n    this.setState({\n      movieWillWatch: updateMoviesWillWatch,\n    });\n    // console.log(\"after then\");\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(\"didUpdate\");\n    // console.log(\"prev\", prevProps, prevState);\n    // console.log(\"prev\", this.props, this.state);\n\n    if (prevState.sort_by !== this.state.sort_by || prevState.page !== this.state.page) {\n      // console.log(\"call api\");\n      this.getMovies();\n    }\n  }\n\n  getMovies = () => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        // console.log(\"data\", data);\n        this.setState({\n          movies: data.results,\n          total_pages: data.total_pages\n        });\n      });\n  };\n\n  removeMovie = (movie) => {\n    const updateMovies = this.state.movies.filter(function (item) {\n      return item.id !== movie.id;\n    });\n\n    this.setState({\n      movies: updateMovies,\n    });\n  };\n\n  addMovieToWillWatch = (movie) => {\n    const updateMoviesWillWatch = [...this.state.movieWillWatch, movie];\n\n    this.setState({\n      movieWillWatch: updateMoviesWillWatch,\n    });\n\n    localStorage.setItem('movieWillWatch', JSON.stringify(updateMoviesWillWatch));\n  };\n\n  removeMovieFromWillWatch = (movie) => {\n    const updateMoviesWillWatch = this.state.movieWillWatch.filter(function (item) {\n      return item.id !== movie.id;\n    });\n\n    this.setState({\n      movieWillWatch: updateMoviesWillWatch,\n    });\n\n    localStorage.setItem('movieWillWatch', JSON.stringify(updateMoviesWillWatch));\n  };\n\n  updateSortBy = (value) => {\n    this.setState({\n      sort_by: value,\n      page: 1\n    });\n  };\n\n  updatePage = (value) => {\n    this.setState({\n      page: value,\n    });\n  };\n\n  render() {\n    // console.log(\"render\", this.state.total_pages);\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <MoviePages\n              page={this.state.page}\n              total_pages={this.state.total_pages}\n              updatePage={this.updatePage}\n            />\n            <div className=\"row\">\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <MoviePages\n              page={this.state.page}\n              total_pages={this.state.total_pages}\n              updatePage={this.updatePage}\n            />\n          </div>\n          <div className=\"col-3\">\n            <h4>Will Watch: {this.state.movieWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.movieWillWatch.map((movie) => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"79b8d6f4cd09f385e53d847858d78a4a\";\n\nexport const API_KEY_4 = \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3OWI4ZDZmNGNkMDlmMzg1ZTUzZDg0Nzg1OGQ3OGE0YSIsInN1YiI6IjVlN2I5ZWEwYWIxYmM3MDAxNWMxZjcwNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.h2kTlYYKlPlDT4bMP6lg7Puftd0n1aM8aR9_uqIGIw4\";","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}